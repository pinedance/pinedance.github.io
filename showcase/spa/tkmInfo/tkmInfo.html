<!doctype html>
<html ng-app="myApp">
	<head>
        <title>Info Box</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">	
        
	</head>
	<body ng-controller="appCtrl">
		<header>
		<div class="jumbotron">
			<div class="container">
                <div class="row">
                    <div class="col-sm-6 col-xs-8">
                        <h1>TKM INFO</h1>
                        <p>Show me the money....</p>
                        <p><a class="btn btn-primary btn-lg" href="#" role="button" ng-click="resetForms()">Reset</a></p>
                    </div>
                    <div class="col-sm-6 col-xs-4">
                        <img src="http://portfoliotheme.org/enigmatic/wp-content/uploads/2012/07/placeholder1.jpg" alt="" width="160px" class="pull-right img-responsive img-rounded">
                    </div>
                </div>
            </div>
		</div>
		</header>
		
		<div class="container-fluid">
		<div class="row">
			<div class="col-sm-6">
				<input type="text" ng-model="queryWord" placeholder="한글독음" minlength=1 ng-keypress="fetchDatas($event)">
                <p>{{queryWord}}</p>
			</div>
			<div class="col-sm-6">
                <input type="text" ng-repeat="word in words" value="{{word}}">
			</div>
		</div>
        </div>
        

	
<!--   script............................................................................................-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
		
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js"></script>
		
		<script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
		<script src="https://cdn.firebase.com/libs/angularfire/0.9.1/angularfire.min.js"></script>

<!--   script............................................................................................-->		
		
		<script>
		(function(){
			var app = angular.module('myApp', ['firebase']);
            
            app.factory('myFactory', function($firebase) {
                _url = "https://tkmtkm.firebaseio.com/words";
                return {
                        getDatas: function(key) {
                          return $firebase(new Firebase(_url + '/' + key));
                        },
                        getAllDatas: function() {
                          return $firebase(new Firebase(_url));
                        }
              };
            });
                    
            
			app.controller('appCtrl', ['$scope', '$firebase', 'myFactory', 
				function($scope, $firebase, myFactory) {
					
                    $scope.fetchDatas = function(event){
                        if(event.keyCode != 13){return};
                        $scope.words =myFactory.getDatas($scope.queryWord).$asObject();
                    };
                                    
			}]);
		})();
		</script>
	</body>
</html>
